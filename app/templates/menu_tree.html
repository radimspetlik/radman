{# Renders the nested menu tree #}
{% macro render_menu_items(items) %}
  <ul>
  {% for item in items %}
    <li>
      <a href="{{ url_for('show_menu_item', menu_id=item.RowKey) }}">{{ item.Title }}</a>
      {% if item.children %}
        {{ render_menu_items(item.children) }}
      {% endif %}
    </li>
  {% endfor %}
  </ul>
{% endmacro %}

{{ render_menu_items(menu_tree) }}
